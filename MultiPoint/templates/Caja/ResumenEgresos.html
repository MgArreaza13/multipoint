{% extends "../Base/BasePanel.html" %}
{% load staticfiles %}
{% block title %}
 Egreso
{% endblock title %}

{% block content %}
{% if user.is_authenticated and user.is_staff == True and user.is_superuser == True%}

<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        Egresos
        <small>Detalles </small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i>Inicio</a></li>
        <li><a href="#">Egresos </a></li>
        <li class="active">Detalles </li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="row">
        <div class="col-xs-12">
           <div class="box">
            
            <!-- /.box-header -->
            <div class="box-body" >
            <div class="col-md-3 col-sm-6 col-xs-12">
            <!-- box info -->
                  <div class="info-box bg-green">
                    <span class="info-box-icon"><i class="fa fa-bank  "></i></span>

                    <div class="info-box-content">
                         <span class="info-box-text">Total <br> Ingresos</span>
                         {% if total_ingresos.total == None %}
                            0$
                            {% else %}
                        
                             <span class="info-box-number">{{total_ingresos.total}}<strong>$</strong></span>
                            
                          {% endif %}

                     </div>
              <!-- /.info-box-content -->
                </div>
            <!-- /.info-box -->
              </div>
              <div class="col-md-3 col-sm-6 col-xs-12">
            <!-- box info -->
                  <div class="info-box bg-red">
                    <span class="info-box-icon"><i class="fa  fa-minus"></i></span>

                    <div class="info-box-content">
                         <span class="info-box-text">Total <br> Egresos </span>
                          {% if total_egresos.total == None %}
                            0$
                            {% else %}
                          <span class="info-box-number">{{total_egresos.total}}<strong>$</strong></span>
                            
                          {% endif %}
                     </div>
              <!-- /.info-box-content -->
                </div>
            <!-- /.info-box -->
              </div>
              <div class="col-md-3 col-sm-6 col-xs-12">
            <!-- box info -->
                  <div class="info-box bg-blue">
                    <span class="info-box-icon"><i class="fa fa-money"></i></span>

                    <div class="info-box-content">
                         <span class="info-box-text">Efectivo en <br> Caja</span>
                        {% if total_efectivo_caja == None %}
                            0$
                            {% else %}
                         
                          <span class="info-box-number">{{total_efectivo_caja}}<strong>$</strong></span>
                            
                          {% endif %}

                     </div>
              <!-- /.info-box-content -->
                </div>
            <!-- /.info-box -->
              </div>
              <div class="col-md-3 col-sm-6 col-xs-12">
            <!-- box info -->
                  <div class="info-box bg-yellow">
                    <span class="info-box-icon"><i class="fa fa-cc-mastercard"></i></span>

                    <div class="info-box-content">
                         <span class="info-box-text">Pago con <br> Tarjeta</span>
                        {% if total_pago_tarjetas.total == None %}
                            0$
                            {% else %}
                         
                          <span class="info-box-number">{{total_pago_tarjetas.total}}<strong>$</strong></span>
                            
                          {% endif %}

                     </div>
              <!-- /.info-box-content -->
                </div>
          <!-- /.info-box -->
            </div>


            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
      







          <div class="box">
            <div class="box-header">
              <h3 class="box-title">Ingresos</h3>
            </div>
            <div style="background-color: rgba(154, 153, 158, 0.09);" class="box-body">
            <h5 class="box-title">Filtrar por Fecha </h5>
              <div class="form-group col-md-6">
                    <label for="exampleInputEmail1">DESDE</label>
                    <input type="text" id="datepicker_from" class="form-control" id="exampleInputEmail1" placeholder="SELECCIONE LA FECHA DE INICIO ">
                </div>
                <div class="form-group col-md-6">
                    <label for="exampleInputEmail1">HASTA</label>
                    <input type="text" id="datepicker_to" class="form-control" id="exampleInputEmail1" placeholder="SELECCIONE LA FECHA FINAL">
                </div>
              
            </div>
            <!-- /.box-header -->
            <div class="box-body">
              <table id="example1" class="table table-bordered table-striped">
                <thead>
                <tr>
                  <th>COD</th>
                  <th>USER</th>
                  <th>PROVEEDOR</th>
                  <th>TIPO INGRESO</th>
                  <th>FECHA</th>
                  <th>FORMA DE PAGO</th>
                  <th>MONTO</th>
                  <th>COMENTARIO <br> ADICIONALES</th>
                  <th>TIPO</th>
                </tr>
                </thead>
                <tbody>
               
                  {% for egreso in egresos  %}
                    
                    <tr>
                      <td>{{egreso.id}}</td>
                      <td>{{egreso.user.username}}</td>
                      <td>{{egreso.proveedor}}</td>
                      <td>{{egreso.tipoIngreso}}</td>
                      <td>{{egreso.dateCreate}}</td>
                      <td>{{egreso.tipoPago}}</td>
                      <td>{{egreso.monto}}<strong>$</strong></td>
                      <td>{{egreso.descripcion}}</td>
                      <td><span class="badge bg-red">Egreso</span></td>
                      
                    </tr>
                    
                  {% endfor %}

              



                
                </tbody>
                <tfoot>
                <tr>
                  <th>COD</th>
                  <th>USER</th>
                  <th>PROVEEDOR</th>
                  <th>TIPO INGRESO</th>
                  <th>FECHA</th>
                  <th>FORMA DE PAGO</th>
                  <th>MONTO</th>
                  <th>COMENTARIO <br> ADICIONALES</th>
                  <th>TIPO</th>
                </tr>
                </tfoot>
              </table>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
        </div>
        <!-- /.col -->
      </div>
      <!-- /.row -->
    </section>



    <div class="box-body" >
          {% if user.is_authenticated and user.is_staff == True and user.is_superuser == True%}
            <div class="col-sm-12">
              <a href="{% url "Caja:NuevoEgreso" %}" type="button" class="btn btn-block btn-info">Nuevo Egreso</a>
            </div>
          {% endif %}
            
           
    </div>
    <!-- /.content -->
  </div>

{% else %}

{% include "../Base/404.html" %}
  
{% endif %}
{% endblock content %}


{% block scripts %}
  <!-- jQuery 2.2.3 -->
<script src="{% static "plugins/jQuery/jquery-2.2.3.min.js" %}"></script>
<!-- Bootstrap 3.3.6 -->
<script src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>

<!-- DataTables -->
<script src="{% static 'plugins/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'plugins/datatables/dataTables.bootstrap.min.js' %}"></script>
<!-- SlimScroll -->
<!-- jQuery 2.2.3 -->
<!-- jQuery UI 1.11.4 -->
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<!-- Slimscroll -->
<script src="{% static "plugins/slimScroll/jquery.slimscroll.min.js" %}"></script>
<!-- FastClick -->
<script src="{% static "plugins/fastclick/fastclick.js" %}"></script>
<!-- AdminLTE App -->
<script src="{% static "dist/js/app.min.js" %}"></script>
<!-- AdminLTE for demo purposes -->
<script src="{% static "dist/js/demo.js" %}"></script>
<!-- fullCalendar 2.2.5 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"></script>
<script src="{% static "plugins/fullcalendar/fullcalendar.min.js" %}"></script>
<script type="text/javascript" src="{% static "bootstrap/js/bootstrap-clockpicker.min.js" %}"></script>
  <script type="text/javascript" src="{% static "bootstrap/js/highlight.min.js" %}"></script>
<!-- Page specific script -->
<script type="text/javascript" src="{% static "bootstrap/js/bootstrap-clockpicker.min.js" %}"></script>
<script type="text/javascript" src="{% static "bootstrap/js/bootstrap-datepicker.adminlte.min.js" %}"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/datatables/1.9.4/jquery.dataTables.js" data-semver="1.9.4" data-require="datatables@*"></script>
<script src="{% static "bootstrap/js/filtrado.js" %}"></script>
<script src="{% static 'bootstrap/js/notificaciones.js'%}"></script>

<!-- page script -->

{% endblock scripts %}
